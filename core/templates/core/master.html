<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description"
          content="A simple marketplace app for Giovani's portfolio." />
    <meta name="keywords" content="django, marketplace, developer, portfolio" />
    <title>
      {% block title %}
      {% endblock title %}
      | my simple marketplace
    </title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <nav class="py-4 px-4 md:px-6 mb-2 flex justify-between items-center border-b border-gray-200 bg-gray-50">
      <a href="{% url 'core:index' %}"
         class="text-sm md:text-xl font-semibold">my simple marketplace
        {% if request.user.is_authenticated %}| {{ request.user.username }}{% endif %}
      </a>
      <div class="relative inline-block text-left">
        <button type="button"
                class="text-base md:text-lg font-semibold bg-gray-500 text-white px-4 py-2 rounded-xl hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300"
                id="dropdown-menu"
                aria-haspopup="true"
                aria-expanded="true">
          Menu
          <svg class="w-4 h-4 inline ml-1"
               fill="none"
               stroke="currentColor"
               viewBox="0 0 24 24"
               xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div class="origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 hidden"
             id="dropdown-content">
          <div class="py-1"
               role="menu"
               aria-orientation="vertical"
               aria-labelledby="dropdown-menu">
            <a href="{% url 'item:new' %}"
               class="block px-4 py-2 text-base md:text-lg text-gray-700 hover:bg-gray-100 hover:text-gray-900"
               role="menuitem">New item</a>
            <a href="{% url 'item:items' %}"
               class="block px-4 py-2 text-base md:text-lg text-gray-700 hover:bg-gray-100 hover:text-gray-900"
               role="menuitem">Browse</a>
            {% if request.user.is_authenticated %}
              <a href="{% url 'conversation:inbox' %}"
                 class="block px-4 py-2 text-base md:text-lg text-gray-700 hover:bg-gray-100 hover:text-gray-900"
                 role="menuitem">Inbox</a>
              <a href="{% url 'dashboard:index' %}"
                 class="block px-4 py-2 text-base md:text-lg text-gray-700 hover:bg-gray-100 hover:text-gray-900"
                 role="menuitem">Dashboard</a>
              <a href="{% url 'core:logout' %}"
                 class="block px-4 py-2 text-sm md:text-md text-gray-700 hover:bg-gray-100 hover:text-gray-900"
                 role="menuitem">Logout</a>
            {% else %}
              <a href="{% url 'core:signup' %}"
                 class="block px-4 py-2 text-base md:text-lg text-gray-700 hover:bg-gray-100 hover:text-gray-900"
                 role="menuitem">Sign up</a>
              <a href="{% url 'core:login' %}"
                 class="block px-4 py-2 text-base md:text-lg text-gray-700 hover:bg-gray-100 hover:text-gray-900"
                 role="menuitem">Login</a>
            {% endif %}
          </div>
        </div>
      </div>
    </nav>
    <div class="px-4 py-4 md:px-6">
      <div class="bg-gray-50 rounded-xl px-2 py-2">
        {% block content %}
        {% endblock content %}
      </div>
    </div>
    <footer class="py-4 px-4 md:px-6 flex flex-col md:flex-row justify-between bg-gray-800">
      <div class="w-full md:w-2/3 pr-0 md:pr-10 mb-4 md:mb-0">
        <h3 class="mb-2 md:mb-5 font-semibold text-gray-400">About</h3>
        <p class="text-base md:text-lg text-gray-500">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
        </p>
      </div>
      <div class="w-full md:w-1/3">
        <h3 class="mb-2 md:mb-5 font-semibold text-gray-400">Menu</h3>
        <ul class="space-y-2">
          <li>
            <a href="#"
               class="text-base md:text-lg text-teal-500 hover:text-teal-700">About</a>
          </li>
          <li>
            <a href="{% url 'core:contact' %}"
               class="text-base md:text-lg text-teal-500 hover:text-teal-700">Contact</a>
          </li>
          <li>
            <a href="#"
               class="text-base md:text-lg text-teal-500 hover:text-teal-700">Privacy policy</a>
          </li>
          <li>
            <a href="#"
               class="text-base md:text-lg text-teal-500 hover:text-teal-700">Terms of use</a>
          </li>
        </ul>
      </div>
    </footer>
    <script>
    const dropdownButton = document.getElementById('dropdown-menu');
    const dropdownContent = document.getElementById('dropdown-content');
  
    // Close the dropdown when clicking outside
    document.addEventListener('click', (event) => {
      if (!dropdownContent.contains(event.target)) {
        dropdownContent.classList.add('hidden');
        dropdownButton.setAttribute('aria-expanded', 'false');
      }
    });
  
    dropdownButton.addEventListener('click', (event) => {
      event.stopPropagation();
      dropdownContent.classList.toggle('hidden');
      const expanded = dropdownButton.getAttribute('aria-expanded') === 'true' || false;
      dropdownButton.setAttribute('aria-expanded', !expanded);
    });
    </script>
  </body>
</html>
